# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –ú–µ—Ç–∫–∏ —Å–∂–∞—Ç–∏—è-—Ä–∞–∑–∂–∞—Ç–∏—è —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–µ–π

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-01-27  
**–°—Ç–∞—Ç—É—Å**: –ü–ª–∞–Ω –≥–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π

## –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –º–µ—Ç–æ–∫ —Å–∂–∞—Ç–∏—è-—Ä–∞–∑–∂–∞—Ç–∏—è –∞—É–¥–∏–æ, –∫–æ—Ç–æ—Ä–∞—è:
1. –ü—Ä–∏–≤—è–∑–∞–Ω–∞ –∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö/–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
2. –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–∂–∏–º–∞—Ç—å/—Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å –∫—É—Å–æ—á–∫–∏ –∞—É–¥–∏–æ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é (pitch correction) –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã —Ç–æ–Ω–∞

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–æ–∫ (`Marker`) —Å `position` –∏ `originalPosition`
- ‚úÖ `TimeStretchCommand` –¥–ª—è undo/redo –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ `TimeStretchProcessor` —Å –ø—Ä–æ—Å—Ç–æ–π –∫—É–±–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π
- ‚úÖ `applyTimeStretch()` –≤ `WaveformView` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- ‚úÖ **–ü–æ–ª–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –Ω–∞ —É—á–∞—Å—Ç–∫–∏ –º–µ—Ç–∫–∞–º–∏**:
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —É—á–∞—Å—Ç–æ–∫ –æ—Ç –Ω–∞—á–∞–ª–∞ –∞—É–¥–∏–æ –¥–æ –ø–µ—Ä–≤–æ–π –º–µ—Ç–∫–∏ (–µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è –º–µ—Ç–∫–∞ –Ω–µ –≤ –ø–æ–∑–∏—Ü–∏–∏ 0)
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —É—á–∞—Å—Ç–∫–∏ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —É—á–∞—Å—Ç–æ–∫ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–µ—Ç–∫–∏ –¥–æ –∫–æ–Ω—Ü–∞ –∞—É–¥–∏–æ
  - –ú–µ—Ç–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `originalPosition` –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
  - –í–µ—Å—å –∞—É–¥–∏–æ—Ñ–∞–π–ª –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø—Ä–æ–ø—É—Å–∫–æ–≤
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ —Å–∂–∞—Ç–∏—è-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è:
  - –ë–µ–ª—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –¥–ª—è –º–µ—Ç–æ–∫
  - –†–æ–º–±–∏–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ –º–µ—Ç–æ–∫ (–±–µ–ª—ã–µ)
  - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ 3 –∑–Ω–∞–∫–æ–≤) –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–π –º–µ—Ç–∫–∏ (isEndMarker)
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `sampleRate` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å—ç–º–ø–ª–æ–≤ –≤ –≤—Ä–µ–º—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–π –∏ –∫–æ–Ω–µ—á–Ω–æ–π –º–µ—Ç–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–π –º–µ—Ç–∫–∏

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### TimeStretchProcessor
**–§–∞–π–ª—ã**: `include/timestretchprocessor.h`, `src/timestretchprocessor.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∞—É–¥–∏–æ (time stretching) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫—É–±–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- `processSegment(const QVector<float>& input, float stretchFactor)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∞—É–¥–∏–æ
- `processChannels(const QVector<QVector<float>>& input, float stretchFactor)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω–æ–≥–æ –∞—É–¥–∏–æ
- `cubicInterpolate()` - –∫—É–±–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è Catmull-Rom –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ—Å—Ç—É—é –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
- –ò–∑–º–µ–Ω—è–µ—Ç –∏ –≤—Ä–µ–º—è, –∏ –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞ –ø—Ä–∏ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏/—Å–∂–∞—Ç–∏–∏
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á, –Ω–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç pitch –ø—Ä–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –ü—Ä–∏ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏ (>1.0) –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–Ω–∏–∂–∞–µ—Ç—Å—è
- –ü—Ä–∏ —Å–∂–∞—Ç–∏–∏ (<1.0) –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ `WaveformView::applyTimeStretch()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏.

#### TimeStretchCommand
**–§–∞–π–ª—ã**: `include/timestretchcommand.h`, `src/timestretchcommand.cpp`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –æ—Ç–º–µ–Ω—ã/–ø–æ–≤—Ç–æ—Ä–∞ (Command Pattern), –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω—è—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∂–∞—Ç–∏—è-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∫–∏)
- `undo()` - –æ—Ç–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—è –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∫–∏
- `redo()` - –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç**:
- `oldAudioData` / `newAudioData` - –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `oldMarkers` / `newMarkers` - –º–µ—Ç–∫–∏ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–µ—Ç—Å—è –≤ `MainWindow::applyTimeStretch()` –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `QUndoStack` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—ã (Ctrl+Z) –∏ –ø–æ–≤—Ç–æ—Ä–∞ (Ctrl+Y).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π undo/redo –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Command Pattern
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

#### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–¢–µ–∫—É—â–∏–π workflow**:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –º–µ—Ç–∫–∏ –≤ `WaveformView`:
   - –ö–ª–∞–≤–∏—à–∞ **M** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–∫–∏ –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–π –º–µ—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:
     - –ù–∞—á–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞ (isFixed=true) –≤ –ø–æ–∑–∏—Ü–∏–∏ 0
     - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –º–µ—Ç–∫–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
     - –ö–æ–Ω–µ—á–Ω–∞—è –º–µ—Ç–∫–∞ (isEndMarker=true) –≤ –∫–æ–Ω—Ü–µ –∞—É–¥–∏–æ
   - –ú–µ—Ç–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º—ã—à—å—é –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Å–∂–∞—Ç–∏–µ-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ" (**Ctrl+T**) –≤ `MainWindow`
3. `MainWindow::applyTimeStretch()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –º–∏–Ω–∏–º—É–º 2 –º–µ—Ç–æ–∫
   - –ü–æ–ª—É—á–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∫–∏
   - –í—ã–∑—ã–≤–∞–µ—Ç `WaveformView::applyTimeStretch(currentMarkers)`:
     * –í—ã—á–∏—Å–ª—è–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã —Å–∂–∞—Ç–∏—è-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
     * –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ –ø–æ `originalPosition`
     * –í—ã–∑—ã–≤–∞–µ—Ç `TimeStretchProcessor::processSegment()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
     * –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - –ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –º–µ—Ç–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤:
     * –ü–µ—Ä–≤–∞—è –º–µ—Ç–∫–∞ –≤—Å–µ–≥–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏–∏ 0
     * –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–∫–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –ø–æ –¥–ª–∏–Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤
     * –ö–æ–Ω–µ—á–Ω–∞—è –º–µ—Ç–∫–∞ (isEndMarker) —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –Ω–æ–≤–æ–≥–æ –∞—É–¥–∏–æ
4. –°–æ–∑–¥–∞–µ—Ç—Å—è `TimeStretchCommand` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Å—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ + –º–µ—Ç–∫–∏)
5. –ö–æ–º–∞–Ω–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `QUndoStack` –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–º–µ–Ω—ã (Ctrl+Z) –∏ –ø–æ–≤—Ç–æ—Ä–∞ (Ctrl+Y)
6. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ `WaveformView`

**–§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã**:
- `src/waveformview.cpp`:
  - –ú–µ—Ç–æ–¥ `applyTimeStretch()` (—Å—Ç—Ä–æ–∫–∏ 2029-2105) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
  - –ú–µ—Ç–æ–¥ `addMarker()` (—Å—Ç—Ä–æ–∫–∏ 1689-1798) - —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
  - –ú–µ—Ç–æ–¥ `keyPressEvent()` (—Å—Ç—Ä–æ–∫–∏ 1391-1418) - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à–∏ M –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–æ–∫
  - –ú–µ—Ç–æ–¥ `drawMarkers()` (—Å—Ç—Ä–æ–∫–∏ 1851-2027) - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
- `src/mainwindow.cpp`:
  - –ú–µ—Ç–æ–¥ `applyTimeStretch()` (—Å—Ç—Ä–æ–∫–∏ 2815-2899) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è `applyTimeStretchAct` (—Å—Ç—Ä–æ–∫–∞ 1276) —Å –≥–æ—Ä—è—á–µ–π –∫–ª–∞–≤–∏—à–µ–π Ctrl+T
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –º–µ–Ω—é "–ü—Ä–∞–≤–∫–∞" (—Å—Ç—Ä–æ–∫–∞ 1296)
- `src/timestretchprocessor.cpp` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (–∫—É–±–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è)
- `src/timestretchcommand.cpp` - –∫–æ–º–∞–Ω–¥–∞ undo/redo

**–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
- `applyTimeStretch()` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `const QVector<Marker>&` (–Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –º–µ—Ç–∫–∏)
- –°–µ–≥–º–µ–Ω—Ç—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –ø–æ `originalPosition` (–∏—Å—Ö–æ–¥–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏), –∞ –Ω–µ –ø–æ —Ç–µ–∫—É—â–∏–º `position`
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è: `stretchFactor = currentDistance / originalDistance`
  - `currentDistance = endMarker.position - startMarker.position` (—Ç–µ–∫—É—â–µ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
  - `originalDistance = endMarker.originalPosition - startMarker.originalPosition` (–∏—Å—Ö–æ–¥–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
- –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω—è—è –º–µ—Ç–∫–∞ - –∫–æ–Ω–µ—á–Ω–∞—è (isEndMarker), –æ—Å—Ç–∞–≤—à–∞—è—Å—è —á–∞—Å—Ç—å –∞—É–¥–∏–æ (–æ—Ç `originalPosition` –¥–æ –∫–æ–Ω—Ü–∞) –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ—Ç–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ `MainWindow::applyTimeStretch()`:
  - –ü–µ—Ä–≤–∞—è –º–µ—Ç–∫–∞ –≤—Å–µ–≥–¥–∞ –≤ –ø–æ–∑–∏—Ü–∏–∏ 0
  - –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–∫–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –ø–æ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –¥–ª–∏–Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤
  - –ö–æ–Ω–µ—á–Ω–∞—è –º–µ—Ç–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –Ω–æ–≤–æ–≥–æ –∞—É–¥–∏–æ
  - `originalPosition` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –º–µ—Ç–∫–∏ (–Ω–µ –ø–µ—Ä–≤–æ–π) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è `originalPosition`:
  - –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ—Å–µ–¥–Ω–∏–µ –º–µ—Ç–∫–∏ - –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–µ–∂–¥—É –Ω–∏–º–∏
  - –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—ã–¥—É—â–∞—è - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –µ—ë `originalPosition`
  - –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∞—è - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –µ—ë `originalPosition`

### –ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ú–µ—Ç–∫–∏ —Ç–µ–ø–µ—Ä—å –¥–µ–ª—è—Ç –∞—É–¥–∏–æ –Ω–∞ —É—á–∞—Å—Ç–∫–∏ –¥–ª—è —Å–∂–∞—Ç–∏—è-—Ä–∞–∑–∂–∞—Ç–∏—è
  - ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —É—á–∞—Å—Ç–æ–∫ –æ—Ç –Ω–∞—á–∞–ª–∞ –∞—É–¥–∏–æ –¥–æ –ø–µ—Ä–≤–æ–π –º–µ—Ç–∫–∏ (–µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è –º–µ—Ç–∫–∞ –Ω–µ –≤ –ø–æ–∑–∏—Ü–∏–∏ 0)
  - ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤—Å–µ —É—á–∞—Å—Ç–∫–∏ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
  - ‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —É—á–∞—Å—Ç–æ–∫ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –º–µ—Ç–∫–∏ –¥–æ –∫–æ–Ω—Ü–∞ –∞—É–¥–∏–æ
  - ‚úÖ –ú–µ—Ç–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `originalPosition` –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è
  - ‚úÖ –í–µ—Å—å –∞—É–¥–∏–æ—Ñ–∞–π–ª —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è: –Ω–∞—á–∞–ª–æ ‚Üí –ø–µ—Ä–≤–∞—è –º–µ—Ç–∫–∞ ‚Üí ... ‚Üí –ø–æ—Å–ª–µ–¥–Ω—è—è –º–µ—Ç–∫–∞ ‚Üí –∫–æ–Ω–µ—Ü
- ‚ùå –ú–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å—ç–º–ø–ª–∞—Ö, –Ω–µ—Ç –ø—Ä—è–º–æ–π –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ –≤—Ä–µ–º–µ–Ω–∏
  - –ù–µ—Ç –ø–æ–ª–µ–π `timeMs` –∏ `originalTimeMs` –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `Marker`
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (—á–µ—Ä–µ–∑ `sampleRate`)
- ‚ùå –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ (pitch correction)
  - –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –∏–∑–º–µ–Ω—è–µ—Ç –∏ –≤—Ä–µ–º—è, –∏ –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞
  - –ü—Ä–∏ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏ –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–Ω–∏–∂–∞–µ—Ç—Å—è
  - –ü—Ä–∏ —Å–∂–∞—Ç–∏–∏ –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è
- ‚ùå –ù–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ time stretching (PSOLA, Phase Vocoder, etc.)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫—É–±–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è Catmull-Rom
  - –ù–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (Rubber Band, etc.)
- ‚ùå –ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–∫ —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏
  - –ù–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
- ‚ùå –ù–µ—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Å–ª—É—à–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - –ù–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### 1. –ü—Ä–∏–≤—è–∑–∫–∞ –º–µ—Ç–æ–∫ –∫–æ –≤—Ä–µ–º–µ–Ω–∏

#### –ü—Ä–æ–±–ª–µ–º–∞:
–ú–µ—Ç–∫–∏ —Å–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å—ç–º–ø–ª–∞—Ö, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—É —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é.

#### –†–µ—à–µ–Ω–∏–µ:
–î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Marker` –∏ –º–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:

```cpp
struct Marker {
    qint64 position;           // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö
    qint64 originalPosition;   // –ò—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö
    qint64 timeMs;             // –ü–æ–∑–∏—Ü–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) - –ù–û–í–û–ï
    qint64 originalTimeMs;     // –ò—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ - –ù–û–í–û–ï
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
};
```

#### –ú–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:
- `samplesToTime(qint64 samples, int sampleRate) -> qint64 ms`
- `timeToSamples(qint64 ms, int sampleRate) -> qint64 samples`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `sampleRate`

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

#### –¢–µ–∫—É—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º:
–ü—Ä–æ—Å—Ç–∞—è –∫—É–±–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è - –∏–∑–º–µ–Ω—è–µ—Ç –∏ –≤—Ä–µ–º—è, –∏ –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞.

#### –¢—Ä–µ–±—É–µ–º—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º:
Time stretching —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—ã—Å–æ—Ç—ã —Ç–æ–Ω–∞ (pitch correction).

#### –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

**–í–∞—Ä–∏–∞–Ω—Ç A: Phase Vocoder (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞
- –¢—Ä–µ–±—É–µ—Ç FFT –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–∑
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: –í—ã—Å–æ–∫–∞—è

**–í–∞—Ä–∏–∞–Ω—Ç B: PSOLA (Pitch Synchronous Overlap-Add)**
- –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è –≤–æ–∫–∞–ª–∞
- –ü—Ä–æ—â–µ, —á–µ–º Phase Vocoder
- –¢—Ä–µ–±—É–µ—Ç –¥–µ—Ç–µ–∫—Ü–∏–∏ –ø–∏—Ç—á–∞
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è

**–í–∞—Ä–∏–∞–Ω—Ç C: Rubber Band Library (–≤–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)**
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- –ì–æ—Ç–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- –¢—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: –ù–∏–∑–∫–∞—è (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—á–∞—Ç—å —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞ C (Rubber Band), –∑–∞—Ç–µ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç B (PSOLA).

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

#### –ü—Ä–æ–±–ª–µ–º–∞:
–ú–µ—Ç–∫–∏ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

#### –†–µ—à–µ–Ω–∏–µ:
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–µ—Ç–æ–∫
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–æ–π —Å–µ–≥–º–µ–Ω—Ç —Å–µ–π—á–∞—Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
- –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏

## –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ü—Ä–∏–≤—è–∑–∫–∞ –º–µ—Ç–æ–∫ –∫–æ –≤—Ä–µ–º–µ–Ω–∏

#### –ó–∞–¥–∞—á–∏:
1. **–†–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Marker**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è `timeMs` –∏ `originalTimeMs`
   - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

2. **–°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏**
   - `TimeUtils::samplesToMs(qint64 samples, int sampleRate) -> qint64`
   - `TimeUtils::msToSamples(qint64 ms, int sampleRate) -> qint64`
   - `TimeUtils::formatTime(qint64 ms) -> QString`

3. **–û–±–Ω–æ–≤–∏—Ç—å WaveformView**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è—Ç—å `timeMs` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `position`
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `sampleRate`
   - –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è/–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –º–µ—Ç–æ–∫

4. **–û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –º–µ—Ç–æ–∫ –≤ tooltip (–ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –º–µ—Ç–∫—É)
   - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Ä–µ–º—è –≤ –ø–æ–¥–ø–∏—Å—è—Ö –º–µ—Ç–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Ä—è–¥–æ–º —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º)
   - –û–±–Ω–æ–≤–∏—Ç—å `drawMarkers()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `include/waveformview.h` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Marker
- `src/waveformview.cpp` - –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –º–µ—Ç–∫–∞–º–∏
- `include/timeutils.h` (–Ω–æ–≤—ã–π) - —É—Ç–∏–ª–∏—Ç—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
- `src/timeutils.cpp` (–Ω–æ–≤—ã–π) - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç

**–û—Ü–µ–Ω–∫–∞**: 2-3 –¥–Ω—è

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Rubber Band –¥–ª—è —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

#### –ó–∞–¥–∞—á–∏:
1. **–î–æ–±–∞–≤–∏—Ç—å Rubber Band –≤ –ø—Ä–æ–µ–∫—Ç**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤ `thirdparty/`
   - –î–æ–±–∞–≤–∏—Ç—å –≤ `CMakeLists.txt` –∏ `DONTFLOAT.pro`
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä–∫—É

2. **–°–æ–∑–¥–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É PitchPreservingTimeStretch**
   - –ö–ª–∞—Å—Å-–æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ Rubber Band API
   - –ú–µ—Ç–æ–¥—ã: `processSegment()`, `processChannels()`
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

3. **–û–±–Ω–æ–≤–∏—Ç—å TimeStretchProcessor**
   - –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (–ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è / Rubber Band)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å PitchPreservingTimeStretch
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–∞—Ö –∞—É–¥–∏–æ
   - –°—Ä–∞–≤–Ω–∏—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `CMakeLists.txt` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Rubber Band
- `DONTFLOAT.pro` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ Rubber Band
- `include/pitchpreservingtimestretch.h` (–Ω–æ–≤—ã–π)
- `src/pitchpreservingtimestretch.cpp` (–Ω–æ–≤—ã–π)
- `include/timestretchprocessor.h` - –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `src/timestretchprocessor.cpp` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–û—Ü–µ–Ω–∫–∞**: 3-4 –¥–Ω—è

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–µ—Å–ª–∏ Rubber Band –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π PSOLA –∞–ª–≥–æ—Ä–∏—Ç–º

### –≠—Ç–∞–ø 3: –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (PSOLA, –µ—Å–ª–∏ –Ω–µ—Ç Rubber Band)

#### –ó–∞–¥–∞—á–∏:
1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ—Ç–µ–∫—Ü–∏—é –ø–∏—Ç—á–∞**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `KeyAnalyzer` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
   - –ê–ª–≥–æ—Ä–∏—Ç–º: Autocorrelation –∏–ª–∏ FFT-based
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–æ–¥–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–æ–Ω–∞

2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å PSOLA –∞–ª–≥–æ—Ä–∏—Ç–º**
   - –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã –ø–æ –ø–∏—Ç—á—É
   - Overlap-Add —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–∞–∑—ã
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—Ü —Å–µ–≥–º–µ–Ω—Ç–æ–≤

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ TimeStretchProcessor**
   - –í—ã–±–æ—Ä –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π –∏ PSOLA
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `include/pitchdetector.h` (–Ω–æ–≤—ã–π)
- `src/pitchdetector.cpp` (–Ω–æ–≤—ã–π)
- `include/psolatimestretch.h` (–Ω–æ–≤—ã–π)
- `src/psolatimestretch.cpp` (–Ω–æ–≤—ã–π)
- `include/timestretchprocessor.h`
- `src/timestretchprocessor.cpp`

**–û—Ü–µ–Ω–∫–∞**: 5-7 –¥–Ω–µ–π

### –≠—Ç–∞–ø 4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º

#### –ó–∞–¥–∞—á–∏:
1. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞**
   - –í–∏–∑—É–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –º–µ—Ç–æ–∫, –º–µ–∂–¥—É –∫–æ—Ç–æ—Ä—ã–º–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–µ–≥–º–µ–Ω—Ç–µ**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è/—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
   - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞ —Å–µ–≥–º–µ–Ω—Ç–∞

3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏**
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ —Å—ç–º–ø–ª—ã
   - –£—á–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π time stretching

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `src/waveformview.cpp` - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞
- `src/mainwindow.cpp` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

**–û—Ü–µ–Ω–∫–∞**: 1-2 –¥–Ω—è

### –≠—Ç–∞–ø 5: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

#### –ó–∞–¥–∞—á–∏:
1. **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**
   - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä" –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –±–µ–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
   - –í—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –û—Ç–º–µ–Ω–∞ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤
   - –õ–µ–Ω–∏–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã)
   - –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

3. **–£–ª—É—á—à–µ–Ω–∏–µ UX**
   - –î–∏–∞–ª–æ–≥ –Ω–∞—Å—Ç—Ä–æ–µ–∫ time stretching
   - –í—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (–ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è / PSOLA / Rubber Band)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

**–§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è**:
- `src/mainwindow.cpp` - –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
- `include/timestretchsettingsdialog.h` (–Ω–æ–≤—ã–π)
- `src/timestretchsettingsdialog.cpp` (–Ω–æ–≤—ã–π)
- `ui/timestretchsettingsdialog.ui` (–Ω–æ–≤—ã–π)

**–û—Ü–µ–Ω–∫–∞**: 2-3 –¥–Ω—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

#### TimeStretchProcessor (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

```cpp
class TimeStretchProcessor {
public:
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∞—É–¥–∏–æ
    static QVector<float> processSegment(const QVector<float>& input, float stretchFactor);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω–æ–≥–æ –∞—É–¥–∏–æ
    static QVector<QVector<float>> processChannels(
        const QVector<QVector<float>>& input, 
        float stretchFactor
    );

private:
    // –ö—É–±–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è Catmull-Rom
    static float cubicInterpolate(float y0, float y1, float y2, float y3, float t);
    static float lerp(float a, float b, float t);
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å (–≤—Å–µ –º–µ—Ç–æ–¥—ã —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—É–±–∏—á–µ—Å–∫—É—é –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é Catmull-Rom –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã—Å–æ—Ç—É —Ç–æ–Ω–∞ (pitch) –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏:
  - –ü—Ä–∏ —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–∏ (stretchFactor > 1.0) –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–Ω–∏–∂–∞–µ—Ç—Å—è
  - –ü—Ä–∏ —Å–∂–∞—Ç–∏–∏ (stretchFactor < 1.0) –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –ø–æ–≤—ã—à–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Ä–∞–≤–µ–Ω 1.0 (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 0.001), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—É—Å—Ç—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

#### TimeStretchCommand (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

```cpp
class TimeStretchCommand : public QUndoCommand {
public:
    TimeStretchCommand(
        WaveformView* view,
        const QVector<QVector<float>>& oldData,
        const QVector<QVector<float>>& newData,
        const QVector<Marker>& oldMarkers,
        const QVector<Marker>& newMarkers,
        const QString& text
    );
    
    void undo() override;
    void redo() override;

private:
    WaveformView* waveformView;
    QVector<QVector<float>> oldAudioData;
    QVector<QVector<float>> newAudioData;
    QVector<Marker> oldMarkers;
    QVector<Marker> newMarkers;
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- –ù–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `QUndoCommand` –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Qt undo/redo —Å–∏—Å—Ç–µ–º–æ–π
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:
  - –°—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã–µ (–ø–æ–ª–Ω—ã–µ –∫–æ–ø–∏–∏)
  - –°—Ç–∞—Ä—ã–µ –∏ –Ω–æ–≤—ã–µ –º–µ—Ç–∫–∏ (–ø–æ–ª–Ω—ã–µ –∫–æ–ø–∏–∏)
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Ç–º–µ–Ω—è—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `MainWindow::applyTimeStretch()` (—Å—Ç—Ä–æ–∫–∞ 2887)
- –ü—Ä–∏ `undo()` –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∫–∏ —á–µ—Ä–µ–∑ `WaveformView::setAudioData()` –∏ `setMarkers()`
- –ü—Ä–∏ `redo()` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∫–∏

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–µ –∫–æ–ø–∏–∏ –∞—É–¥–∏–æ–¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–ª—è—Ç—å –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Marker (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

```cpp
struct Marker {
    qint64 position;           // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö
    qint64 originalPosition;   // –ò—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö (–¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞)
    bool isDragging;           // –§–ª–∞–≥ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    QPoint dragStartPos;       // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    qint64 dragStartSample;    // –ù–∞—á–∞–ª—å–Ω—ã–π —Å—ç–º–ø–ª –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏
    bool isFixed;              // –§–ª–∞–≥ –Ω–µ–ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç–∏ –º–µ—Ç–∫–∏ (–Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å)
    bool isEndMarker;         // –§–ª–∞–≥ –∫–æ–Ω–µ—á–Ω–æ–π –º–µ—Ç–∫–∏ (–æ—Å–æ–±–∞—è –º–µ—Ç–∫–∞ –≤ –∫–æ–Ω—Ü–µ —Ç–∞–π–º–ª–∞–π–Ω–∞)
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
    Marker();
    Marker(qint64 pos);
    Marker(qint64 pos, bool fixed);
    Marker(qint64 pos, bool fixed, bool endMarker);
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**:
- –ú–µ—Ç–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å—ç–º–ø–ª–∞—Ö (–Ω–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ –≤—Ä–µ–º–µ–Ω–∏)
- `originalPosition` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —Å–∂–∞—Ç–∏—è-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–µ—Ä–≤–æ–π –º–µ—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è:
  - –ù–∞—á–∞–ª—å–Ω–∞—è –º–µ—Ç–∫–∞ (isFixed=true) –≤ –ø–æ–∑–∏—Ü–∏–∏ 0
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –º–µ—Ç–∫–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
  - –ö–æ–Ω–µ—á–Ω–∞—è –º–µ—Ç–∫–∞ (isEndMarker=true) –≤ –∫–æ–Ω—Ü–µ –∞—É–¥–∏–æ
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Ç–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è `originalPosition`:
  - –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–µ–∂–¥—É —Å–æ—Å–µ–¥–Ω–∏–º–∏ –º–µ—Ç–∫–∞–º–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–µ)
  - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –º–µ—Ç–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—ã–¥—É—â–∞—è)
  - –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–ª–µ–¥—É—é—â–µ–π –º–µ—Ç–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∞—è)
- –ú–µ—Ç–∫–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è/–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫ (`drawMarkers()`):
  - –ë–µ–ª—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ —á–µ—Ä–µ–∑ –≤—Å—é –≤—ã—Å–æ—Ç—É –≤–∏–¥–∂–µ—Ç–∞
  - –†–æ–º–±–∏–∫–∏ –≤ —Ü–µ–Ω—Ç—Ä–µ –º–µ—Ç–æ–∫
  - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (—Ñ–æ—Ä–º–∞—Ç: "X.XXX") –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
  - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç "–ö–æ–Ω–µ—Ü —Ç–∞–π–º–ª–∞–π–Ω–∞" –¥–ª—è –∫–æ–Ω–µ—á–Ω–æ–π –º–µ—Ç–∫–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Marker (–ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ)

```cpp
struct Marker {
    qint64 position;           // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö
    qint64 originalPosition;   // –ò—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ —Å—ç–º–ø–ª–∞—Ö
    qint64 timeMs;             // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) - –ù–û–í–û–ï
    qint64 originalTimeMs;     // –ò—Å—Ö–æ–¥–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã) - –ù–û–í–û–ï
    bool isDragging;
    QPoint dragStartPos;
    qint64 dragStartSample;
    bool isFixed;
    bool isEndMarker;
    
    // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ)
    Marker();
    Marker(qint64 pos, int sampleRate = 44100);
    Marker(qint64 pos, bool fixed, int sampleRate = 44100);
    Marker(qint64 pos, bool fixed, bool endMarker, int sampleRate = 44100);
    
    // –ú–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ (–Ω–æ–≤—ã–µ)
    void updateTimeFromSamples(int sampleRate);
    void updateSamplesFromTime(int sampleRate);
};
```

### TimeUtils –∫–ª–∞—Å—Å

```cpp
class TimeUtils {
public:
    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—ç–º–ø–ª–æ–≤ –≤ –≤—Ä–µ–º—è
    static qint64 samplesToMs(qint64 samples, int sampleRate);
    static double samplesToSeconds(qint64 samples, int sampleRate);
    
    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å—ç–º–ø–ª—ã
    static qint64 msToSamples(qint64 ms, int sampleRate);
    static qint64 secondsToSamples(double seconds, int sampleRate);
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
    static QString formatTime(qint64 ms);
    static QString formatTime(double seconds);
    static QString formatTimeWithMs(qint64 ms);
};
```

### PitchPreservingTimeStretch –∫–ª–∞—Å—Å

```cpp
class PitchPreservingTimeStretch {
public:
    PitchPreservingTimeStretch(int sampleRate, int channels = 2);
    ~PitchPreservingTimeStretch();
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞
    QVector<float> processSegment(const QVector<float>& input, float stretchFactor);
    QVector<QVector<float>> processChannels(const QVector<QVector<float>>& input, float stretchFactor);
    
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    void setTimeRatio(double ratio);  // 1.0 = –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, >1.0 = —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ
    void setPitchScale(double scale); // 1.0 = –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    
private:
    // Rubber Band API –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    void* rubberBandInstance;
    int sampleRate;
    int channels;
};
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç-–∫–µ–π—Å—ã:

1. **–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç**: –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∂–∞—Ç–∏—è-—Ä–∞—Å—Ç—è–∂–µ–Ω–∏—è
   - –°–æ–∑–¥–∞—Ç—å 2 –º–µ—Ç–∫–∏
   - –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –æ–¥–Ω—É –º–µ—Ç–∫—É
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

2. **–¢–µ—Å—Ç —Ç–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã—Å–æ—Ç—ã —Ç–æ–Ω–∞
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞—É–¥–∏–æ —Å –∏–∑–≤–µ—Å—Ç–Ω–æ–π –≤—ã—Å–æ—Ç–æ–π —Ç–æ–Ω–∞
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ (2x)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

3. **–¢–µ—Å—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ –≤—Ä–µ–º–µ–Ω–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
   - –°–æ–∑–¥–∞—Ç—å –º–µ—Ç–∫—É –≤ –ø–æ–∑–∏—Ü–∏–∏ 1 —Å–µ–∫—É–Ω–¥–∞
   - –ò–∑–º–µ–Ω–∏—Ç—å sampleRate
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–µ—Ç–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ 1 —Å–µ–∫—É–Ω–¥–µ

4. **–¢–µ—Å—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø–æ–∑–∏—Ü–∏–∏

5. **–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–ª–∏–Ω–Ω—ã–π —Ñ–∞–π–ª (5+ –º–∏–Ω—É—Ç)
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –ò–∑–º–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

## –†–∏—Å–∫–∏ –∏ –º–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

### –†–∏—Å–∫–∏:
1. **–ö–∞—á–µ—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞** - –ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ–π
3. **–ü–∞–º—è—Ç—å** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É–µ—Ç –ø–∞–º—è—Ç–∏
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–∫ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

### –ú–µ—Ä—ã –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏:
1. –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∑–∞—Ç–µ–º —É–ª—É—á—à–∞—Ç—å
2. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
4. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–∞—Ö –∞—É–¥–∏–æ

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –≠—Ç–∞–ø 1: –ü—Ä–∏–≤—è–∑–∫–∞ –º–µ—Ç–æ–∫ –∫–æ –≤—Ä–µ–º–µ–Ω–∏
2. ‚úÖ –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Rubber Band (–∏–ª–∏ –ø—Ä–æ—Å—Ç–∞—è PSOLA)
3. ‚úÖ –ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–∑–∞ 2: –£–ª—É—á—à–µ–Ω–∏—è (1 –Ω–µ–¥–µ–ª—è)
4. ‚úÖ –≠—Ç–∞–ø 4: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
5. ‚úÖ –≠—Ç–∞–ø 5: –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –§–∞–∑–∞ 3: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. üîÑ –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (PSOLA, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω)
7. üîÑ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
8. üîÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

1. ‚úÖ –ú–µ—Ç–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ
2. ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∂–∞—Ç–∏—è-—Ä–∞–∑–∂–∞—Ç–∏—è –∫—É—Å–æ—á–∫–æ–≤ –∞—É–¥–∏–æ –º–µ–∂–¥—É –º–µ—Ç–∫–∞–º–∏
3. ‚úÖ –¢–æ–Ω–∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–≤—ã—Å–æ—Ç–∞ —Ç–æ–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
4. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
5. ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –¥–æ 10 –º–∏–Ω—É—Ç
6. ‚úÖ Undo/Redo —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
7. ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–∫ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –ø–æ–Ω—è—Ç–Ω–∞

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–†–µ–∂–∏–º —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏**: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–æ–∫ –ø–æ –±–∏—Ç–∞–º
3. **–≠–∫—Å–ø–æ—Ä—Ç —Å–µ–≥–º–µ–Ω—Ç–æ–≤**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ñ–∞–π–ª—ã
4. **–®–∞–±–ª–æ–Ω—ã –º–µ—Ç–æ–∫**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–±–æ—Ä–æ–≤ –º–µ—Ç–æ–∫
5. **Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ñ–∞–π–ª–∞–º

---

*–≠—Ç–æ—Ç –ø–ª–∞–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ—ç—Ç–∞–ø–Ω–æ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞.*

