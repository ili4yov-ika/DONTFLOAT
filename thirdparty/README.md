# Сторонние библиотеки и компоненты

В данной папке содержатся исходные коды сторонних программ и библиотек, используемых в проекте DONTFLOAT.

## Основные библиотеки

### Mixxx
- **Описание**: Полнофункциональное DJ-приложение с открытым исходным кодом
- **GitHub**: https://github.com/mixxxdj/mixxx
- **Версия C++**: C++20 (требуется Visual Studio 2022 или новее)
- **Лицензия**: GPLv2
- **Назначение в проекте**: Основная кодовая база для аудиообработки, анализа BPM, визуализации волновых форм и управления метрономом
- **Что делает**: 
  - Анализ аудиофайлов и извлечение метаданных
  - Определение BPM (ударов в минуту)
  - Визуализация аудиоволн
  - Управление воспроизведением аудио
  - Обработка различных аудиоформатов
- **Сборка**: 
  ```bash
  mkdir build && cd build
  cmake ..
  cmake --build .
  ```

## Встроенные библиотеки Mixxx

### QM-DSP (Queen Mary Digital Signal Processing)
- **Описание**: Библиотека для цифровой обработки сигналов и музыкальной информатики
- **Разработчик**: Centre for Digital Music, Queen Mary University of London
- **Лицензия**: GPLv2
- **Назначение в проекте**: Алгоритмы анализа аудио, определение тональности, анализ ритма
- **Что делает**:
  - Анализ хроматограмм
  - Определение тональности
  - Анализ MFCC (Mel-frequency cepstral coefficients)
  - Обнаружение начала нот
  - Фазовый вокодер
  - Преобразование частоты дискретизации
  - Анализ ритма и сегментация
  - Отслеживание темпа
  - Тональный анализ
  - Вейвлет-преобразования
- **Сборка**: 
  - Linux: `make -f build/linux/Makefile.linux64`
  - macOS: `make -f build/osx/Makefile.osx`
  - Windows: Используйте проект `build/msvc/QMDSP.vcxproj`

### PortAudio
- **Описание**: Кроссплатформенная библиотека для работы с аудио
- **Лицензия**: MIT License
- **Назначение в проекте**: Низкоуровневый доступ к аудиоустройствам
- **Что делает**:
  - Абстракция аудио API различных операционных систем
  - Управление аудиопотоками
  - Кольцевые буферы для аудиоданных
- **Сборка**: Встроена в Mixxx, собирается автоматически

### HIDAPI
- **Описание**: Библиотека для работы с USB HID устройствами
- **GitHub**: https://github.com/libusb/hidapi
- **Лицензия**: BSD/GPL (dual license)
- **Назначение в проекте**: Поддержка DJ-контроллеров и MIDI-устройств
- **Что делает**:
  - Обнаружение и подключение к USB HID устройствам
  - Чтение данных с контроллеров
  - Поддержка различных DJ-устройств
- **Сборка**: Встроена в Mixxx

### libshout-idjc
- **Описание**: Библиотека для потоковой передачи аудио на Icecast серверы
- **Лицензия**: LGPL
- **Назначение в проекте**: Возможность стриминга аудио
- **Что делает**:
  - Управление соединением с Icecast серверами
  - Синхронизация аудиопотоков
  - Поддержка различных аудиокодеков (Vorbis, Opus, MP3)
- **Сборка**: Использует autotools (configure, make)

### Kaitai Struct
- **Описание**: Библиотека для парсинга бинарных форматов файлов
- **GitHub**: https://github.com/kaitai-io/kaitai_struct
- **Лицензия**: MIT License
- **Назначение в проекте**: Парсинг метаданных различных аудиоформатов
- **Что делает**:
  - Парсинг бинарных структур данных
  - Поддержка сложных форматов файлов
  - Генерация кода для парсинга
- **Сборка**: Встроена в Mixxx

### SPSCQueue (rigtorp)
- **Описание**: Высокопроизводительная lock-free очередь для одного производителя и одного потребителя
- **GitHub**: https://github.com/rigtorp/SPSCQueue
- **Лицензия**: MIT License
- **Назначение в проекте**: Эффективная передача аудиоданных между потоками
- **Что делает**:
  - Wait-free и lock-free операции
  - Высокая производительность для аудиообработки
  - Поддержка C++11 и новее
- **Сборка**: Header-only библиотека, не требует отдельной сборки

### Reverb Library
- **Описание**: Библиотека для создания реверберационных эффектов
- **Лицензия**: GPLv3
- **Назначение в проекте**: Аудиоэффекты и обработка звука
- **Что делает**:
  - Алгоритмы реверберации
  - DSP эффекты
  - Задержки и фильтры
- **Сборка**: Встроена в Mixxx

### FIDlib
- **Описание**: Библиотека для работы с аудиофильтрами
- **Лицензия**: GPLv2
- **Назначение в проекте**: Фильтрация аудиосигналов
- **Что делает**:
  - Реализация различных типов фильтров
  - Обработка аудиосигналов
- **Сборка**: Встроена в Mixxx

### XWAX
- **Описание**: Библиотека для анализа виниловых пластинок и timecode
- **Лицензия**: GPLv2
- **Назначение в проекте**: Поддержка виниловых контроллеров
- **Что делает**:
  - Анализ timecode сигналов
  - Определение скорости и направления вращения
  - Поддержка различных форматов timecode
- **Сборка**: Встроена в Mixxx с патчами

### MP3GuessEnc
- **Описание**: Утилита для анализа MP3 файлов
- **Версия**: 0.27.4
- **Лицензия**: GPLv2
- **Назначение в проекте**: Анализ MP3 файлов и извлечение метаданных
- **Что делает**:
  - Определение параметров кодирования MP3
  - Анализ качества сжатия
  - Извлечение технических характеристик
- **Сборка**: Встроена в Mixxx

### Rekordbox Metadata
- **Описание**: Библиотека для работы с метаданными Rekordbox
- **Лицензия**: MIT License
- **Назначение в проекте**: Поддержка формата Pioneer Rekordbox
- **Что делает**:
  - Парсинг файлов .anlz и .pdb
  - Извлечение метаданных DJ-программ
  - Совместимость с Pioneer оборудованием
- **Сборка**: Встроена в Mixxx

### ReplayGain
- **Описание**: Простая реализация алгоритма ReplayGain
- **Лицензия**: GPLv2
- **Назначение в проекте**: Нормализация громкости аудио
- **Что делает**:
  - Вычисление уровня громкости
  - Нормализация аудиосигналов
- **Сборка**: Встроена в Mixxx

## Системные требования

- **C++**: Минимум C++20
- **Компилятор**: 
  - Windows: Visual Studio 2022 или новее
  - Linux: GCC 11+ или Clang 12+
  - macOS: Xcode 13+ или Clang 12+
- **CMake**: Версия 3.20 или новее
- **Qt**: Версия 6.0 или новее

## Зависимости

Основные зависимости Mixxx:
- Qt6 (Core, Widgets, Multimedia, Network)
- PortAudio
- TagLib
- SoundTouch
- Rubber Band
- Chromaprint
- FFmpeg
- SQLite3

## Сборка всего проекта

```bash
# Клонирование репозитория
git clone https://github.com/mixxxdj/mixxx.git
cd mixxx

# Настройка окружения (выберите подходящую команду для вашей ОС)
# Windows:
tools\windows_buildenv.bat

# macOS:
source tools/macos_buildenv.sh setup

# Debian/Ubuntu:
tools/debian_buildenv.sh setup

# Fedora:
tools/rpm_buildenv.sh setup

# Сборка
mkdir build && cd build
cmake ..
cmake --build .
```

## Дополнительные GPL-совместимые библиотеки для анализа BPM

### Aubio
- **Описание**: Библиотека для извлечения музыкальных характеристик из аудиосигналов
- **GitHub**: https://github.com/aubio/aubio
- **Лицензия**: GPLv3
- **Язык**: C/C++
- **Назначение**: Определение BPM, обнаружение нот, анализ ритма
- **Что делает**:
  - Алгоритмы определения темпа (BPM)
  - Обнаружение начала нот (onset detection)
  - Анализ высоты тона (pitch detection)
  - Сегментация аудио
  - Извлечение спектральных характеристик
- **Сборка**: 
  ```bash
  git clone https://github.com/aubio/aubio.git
  cd aubio
  ./waf configure
  ./waf build
  ```

### Essentia
- **Описание**: Библиотека для анализа аудиосигналов и извлечения музыкальных характеристик
- **GitHub**: https://github.com/MTG/essentia
- **Лицензия**: Affero GPL v3
- **Язык**: C++/Python
- **Назначение**: Комплексный анализ аудио, включая BPM
- **Что делает**:
  - Определение темпа и ритма
  - Анализ тональности и гармонии
  - Извлечение низкоуровневых аудиохарактеристик
  - Классификация музыкальных жанров
  - Анализ эмоциональной окраски музыки
- **Сборка**: 
  ```bash
  git clone https://github.com/MTG/essentia.git
  cd essentia
  ./waf configure
  ./waf build
  ```

### SoundTouch
- **Описание**: Библиотека для обработки аудиосигналов в реальном времени
- **GitLab**: https://gitlab.com/soundtouch/soundtouch
- **Лицензия**: LGPL (совместима с GPL)
- **Язык**: C++
- **Назначение**: Изменение темпа и высоты звука
- **Что делает**:
  - Изменение темпа без изменения высоты
  - Изменение высоты без изменения темпа
  - Анализ и обработка аудиосигналов
  - Поддержка различных аудиоформатов
- **Сборка**: 
  ```bash
  git clone https://gitlab.com/soundtouch/soundtouch.git
  cd soundtouch
  cmake .
  make
  ```

### Librosa (Python)
- **Описание**: Библиотека для анализа аудио и музыки на Python
- **GitHub**: https://github.com/librosa/librosa
- **Лицензия**: ISC (совместима с GPL)
- **Язык**: Python
- **Назначение**: Анализ аудиофайлов, включая определение BPM
- **Что делает**:
  - Определение темпа (BPM)
  - Анализ спектральных характеристик
  - Извлечение признаков из аудио
  - Визуализация аудиоданных
- **Установка**: 
  ```bash
  pip install librosa
  ```

### Sonic Visualiser
- **Описание**: Приложение для визуализации и анализа аудиосигналов
- **GitHub**: https://github.com/sonic-visualiser/sonic-visualiser
- **Лицензия**: GPLv2
- **Язык**: C++
- **Назначение**: Визуализация и анализ аудио с поддержкой плагинов Vamp
- **Что делает**:
  - Визуализация аудиоволн и спектрограмм
  - Поддержка плагинов для анализа BPM
  - Интерактивный анализ аудиофайлов
  - Экспорт результатов анализа
- **Сборка**: Использует CMake и Qt

## Рекомендации по выбору библиотеки

### Для интеграции в C++ проект:
1. **Aubio** - лучший выбор для простого и эффективного определения BPM
2. **Essentia** - для комплексного анализа аудио с множеством функций
3. **SoundTouch** - если нужна обработка аудио в реальном времени

### Для анализа и исследований:
1. **Librosa** - отличный выбор для Python-скриптов
2. **Sonic Visualiser** - для интерактивного анализа

### Совместимость с проектом DONTFLOAT:
- **Aubio** идеально подходит для интеграции в существующую архитектуру Mixxx
- **Essentia** предоставляет более продвинутые алгоритмы анализа
- **SoundTouch** уже используется в Mixxx для обработки аудио

## Примечания

- Все библиотеки в папке `thirdparty/mixxx/lib/` являются частью проекта Mixxx и собираются вместе с основным приложением
- Некоторые библиотеки могут содержать патчи, специфичные для Mixxx
- Для коммерческого использования некоторых компонентов может потребоваться отдельное лицензирование
- Рекомендуется использовать официальные релизы Mixxx для стабильной работы
- При интеграции новых библиотек убедитесь в совместимости лицензий (GPL требует распространения производных работ под той же лицензией)
