# Архитектура проекта DONTFLOAT

## Общий обзор

DONTFLOAT — это кроссплатформенное Qt6-приложение, написанное на C++, с открытым исходным кодом под лицензией GNU GPLv3. Программа предназначена для анализа аудиофайлов, визуализации звуковой волны и выравнивания темпа (BPM) музыкального материала.

---

## Структура проекта

src/
├── Audio/ # Обработка аудио: загрузка, анализ BPM, выравнивание
├── UI/ # Графический интерфейс (MainWindow, отрисовка волн)
├── Utils/ # Утилиты: диалоги, настройки, общие вспомогательные классы
├── main.cpp # Точка входа

---

## Основные модули

### AudioLoader
- Загрузка аудиофайлов в формате WAV, MP3, FLAC и др.
- Преобразование в универсальный формат `AudioData`.

### WaveformRenderer
- Рисует волновую форму аудио.
- Использует `QPainter` и адаптируется к зуму и масштабу.

### BPMAnalyzer
- Анализирует аудиодорожку для оценки темпа.
- Если темп нестабильный — возвращает `~<значение>` и предупреждение.

### BPMAligner
- Модифицирует аудиофайл (или выдает рекомендации) для выравнивания BPM.
- Планируется добавление режима реального времени (в будущем).

### FileDialogHelper
- Абстракция над `QFileDialog`.
- Сохраняет последний путь открытия через `QSettings`.

---

## Поток обработки

1. Пользователь загружает аудиофайл.
2. `AudioLoader` декодирует данные и передаёт в `WaveformRenderer`.
3. `BPMAnalyzer` оценивает темп и сигнализирует, если BPM нестабилен.
4. При необходимости запускается выравнивание (`BPMAligner`).